switch(Color){case "light":$(".container").addClass("light");break;case "dark":$(".container").addClass("dark");break;case "red":$(".container").addClass("red");break;case "blue":$(".container").addClass("blue");break;case "green":$(".container").addClass("green")}
switch(HigLow){case "show":$(".weatherhighlow").addClass("");break;case "hide":$(".weatherhighlow").addClass("hide")}
switch(WeatherIcon){case "show":$(".weathericon").addClass("");break;case "hide":$(".weathericon").addClass("hide")}
switch(ChanceOfRain){case "show":$(".weatherrain").addClass("");break;case "hide":$(".weatherrain").addClass("hide")}
switch(Align){case "left":$(".container").addClass("alignleft");break;case "center":$(".container").addClass("aligncenter");break;case "right":$(".container").addClass("alignright")}
switch(ShowBattery){case "show":$(".batteryallways").addClass("");break;case "hide":$(".batteryallways").addClass("hide")}
switch(BatteryColor){case "color":$(".battery").addClass("");break;case "auto":$(".battery").addClass("batterynocolor");$(".batteryallways").addClass("batterynocolor");break}
switch(Language){case "de":var dateformat="de-DE";break;case "en":dateformat="en-US"
break;case "fr":var dateformat="fr-FR";break;case "es":var dateformat="es-ES";break}
var d,currentDate,currentTime,lastDate,lastTime,date=document.getElementById("date"),time=document.getElementById("time"),doc=document,statusbarDiv=doc.getElementById("statusbarDiv"),batteryDiv=doc.getElementById("batteryDiv"),remindersDiv=doc.getElementById("remindersDiv"),eventsDiv=doc.getElementById("eventsDiv"),weatherDiv=doc.getElementById("weatherDiv"),musicDiv=doc.getElementById("musicDiv"),artworkDiv=doc.getElementById("artwork");function mainUpdate(e){if("statusbar"==e)statusbarDiv.innerHTML=signalBars+" "+wifiStrength+" "+wifiBars;else if("battery"==e){var t;0==(t=batteryCharging)?batteryDiv.innerHTML="":1==t&&(batteryDiv.innerHTML='<i class="fas fa-plug batteryicon"></i>'+batteryPercent+"<h6>%</h6>"),1<=batteryPercent&&batteryPercent<=20&&$(".battery").addClass("battcolorred"),21<=batteryPercent&&batteryPercent<=69&&$(".battery").addClass("battcoloryellow"),70<=batteryPercent&&batteryPercent<=100&&$(".battery").addClass("battcolorgreen"),0==(t=batteryCharging)?batteryDisDiv.innerHTML=batteryPercent+"<h6>%</h6>":1==t&&(batteryDisDiv.innerHTML=""),1<=batteryPercent&&batteryPercent<=20&&$(".batteryallways").addClass("battcolorred"),21<=batteryPercent&&batteryPercent<=39&&$(".batteryallways").addClass("battcoloryellow"),40<=batteryPercent&&batteryPercent<=100&&$(".batteryallways").addClass("white")}else if("reminders"==e)
if(0<reminders.length){remindersDiv.innerHTML="";for(var a=0;a<reminders.length;a++)remindersDiv.innerHTML+=reminders[a].title+"</br>"}else remindersDiv.innerHTML="No Reminders";else if("system"==e){if("yes"==notificationShowing){$(".container").addClass("")}
var r=twentyfourhour;if("no"==r){var n="en-US",i=-3;if(0<=(currentTime=(new Date).getHours())&&currentTime<12)var s="<small>am</small>";else s="<small> pm</small>"}
function l(){d=new Date,currentDate=d.toLocaleDateString(dateformat,{weekday:DayAppearance,month:MonthAppearance,day:"numeric"}),currentTime=d.toLocaleTimeString(n,{hour:"numeric",minute:"numeric"}),lastDate!==currentDate&&(console.log("Update Date DOM"),date.textContent=currentDate,lastDate=currentDate),lastTime!==currentTime&&(console.log("Update Time DOM"),currentTime.substr(currentTime.length-2),time.innerHTML=currentTime.substr(0,currentTime.length+i)+s,lastTime=currentTime)}
"yes"==r&&(n="de-CH",i=-0,s=""),l(),setInterval(l,1e3)}else if("events"==e)0<events.length?(eventsDiv.innerHTML="",eventsDiv.innerHTML=events[0].title+" "+events[0].date):eventsDiv.innerHTML="No Events";else if("music"==e)
if(isplaying){musicDiv.innerHTML="Artist: "+artist+" Album: "+album+" Title: "+title+" NowPlaying: YES";var c="/var/mobile/Documents/Artwork.jpg?"+(new Date).getMilliseconds();artworkDiv.style.backgroundImage="url('"+c+"')",artworkDiv.style.display="block"}else musicDiv.innerHTML="Artist: NA Album: NA Title: NA NowPlaying: NO",artworkDiv.style.backgroundImage="url('ArtworkDefault.jpg')",artworkDiv.style.display="none";else "weather"==e&&(weatherCode=weather.conditionCode);weatherDiv.innerHTML=weather.temperature+"° "+weather.condition,weatherIcon.innerHTML='<i class="wi wi-yahoo-'+weatherCode+'"></i>',weatherLow.innerHTML=weather.low+"°<h6>/</h6>",weatherHi.innerHTML=weather.high+"°";var o=weather.chanceofrain;if(o<=20&&(weatherRain.innerHTML=" "),20<o)weatherRain.innerHTML='<i class="wi wi-raindrops rainicon"></i><h6> '+10*Math.round(o/10)+"%</h6>";else if("signinginfo"==e){var h,m=JSON.parse(signedInfo),w=document.getElementById("apps");for(w.innerHTML="",a=0;a<m.length;a++){var y=m[a].split("-"),b=y[0],g=new Date(parseInt(y[1]));(h=document.createElement("div")).innerHTML=b+": Expires on "+translate[current].smonth[g.getMonth()]+" "+translate[current].sday[g.getDay()]+" "+g.getDate(),w.appendChild(h)}}}